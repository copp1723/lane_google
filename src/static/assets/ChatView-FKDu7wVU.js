import{c as m,u as B,r as o,j as e,Z as A,b as R,D as T,L as v,M as H,a as w}from"./index-BJzMLFnQ.js";import{B as Z}from"./bar-chart-3-L6eEeHJB.js";import{A as E}from"./alert-circle-BVRI1ANv.js";import{C as F}from"./check-circle-B_PdM_7q.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=m("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=m("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=m("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=m("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=m("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=m("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=m("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=m("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=m("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),K=({message:s,onActionClick:j,onFeedback:p})=>{const[i,y]=o.useState(!1),n=s.type==="user",x=()=>{navigator.clipboard.writeText(s.content),y(!0),setTimeout(()=>y(!1),2e3)};return e.jsx("div",{className:`mb-6 ${n?"flex justify-end":""}`,children:e.jsxs("div",{className:`max-w-3xl ${n?"ml-auto":""}`,children:[e.jsxs("div",{className:`rounded-lg p-4 ${n?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:`p-1 rounded ${n?"bg-blue-700":"bg-gray-200"}`,children:n?e.jsx(H,{size:16,className:n?"text-blue-200":"text-gray-600"}):e.jsx(W,{size:16,className:"text-gray-600"})}),e.jsx("span",{className:`text-sm font-medium ${n?"text-blue-200":"text-gray-600"}`,children:n?"You":"AI Assistant"}),e.jsx("span",{className:`text-xs ${n?"text-blue-200":"text-gray-500"}`,children:new Date(s.timestamp).toLocaleTimeString()})]}),e.jsx("div",{className:`prose ${n?"prose-invert":""} max-w-none`,children:s.isStreaming?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"animate-spin",size:16}),e.jsx("span",{className:"animate-pulse",children:s.content||"Thinking..."})]}):e.jsx("p",{className:"whitespace-pre-wrap",children:s.content})}),!n&&!s.isStreaming&&e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsx("button",{onClick:x,className:"p-1.5 rounded hover:bg-gray-200 transition-colors",title:"Copy message",children:i?e.jsx(F,{size:16,className:"text-green-600"}):e.jsx(G,{size:16,className:"text-gray-500"})}),e.jsx("button",{onClick:()=>p(s.id,"up"),className:`p-1.5 rounded hover:bg-gray-200 transition-colors ${s.feedback==="up"?"bg-green-100":""}`,title:"Helpful",children:e.jsx(J,{size:16,className:s.feedback==="up"?"text-green-600":"text-gray-500"})}),e.jsx("button",{onClick:()=>p(s.id,"down"),className:`p-1.5 rounded hover:bg-gray-200 transition-colors ${s.feedback==="down"?"bg-red-100":""}`,title:"Not helpful",children:e.jsx(Y,{size:16,className:s.feedback==="down"?"text-red-600":"text-gray-500"})})]})]}),s.suggestions&&s.suggestions.length>0&&e.jsx("div",{className:"mt-3 space-y-2",children:s.suggestions.map((f,u)=>e.jsxs("button",{onClick:()=>j(f),className:"w-full text-left p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-between group",children:[e.jsx("span",{className:"text-sm text-gray-700",children:f}),e.jsx(_,{className:"text-gray-400 group-hover:text-gray-600",size:16})]},u))}),s.campaignBrief&&e.jsxs("div",{className:"mt-3 p-4 bg-white border border-gray-200 rounded-lg",children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(P,{size:16}),"Campaign Brief Generated"]}),e.jsx("pre",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:JSON.stringify(s.campaignBrief,null,2)}),e.jsxs("button",{onClick:()=>j("create-campaign",s.campaignBrief),className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(A,{size:16}),"Create Campaign"]})]})]})})},se=({viewMode:s})=>{var z;const{user:j}=B(),[p,i]=o.useState([{id:"welcome",type:"assistant",content:"Hello! I'm your AI assistant for Google Ads management. I can help you with campaign optimization, keyword research, budget recommendations, and more. What would you like to work on today?",timestamp:new Date,suggestions:["Analyze my campaign performance","Suggest keyword optimizations","Review budget allocation","Create a new campaign"]}]),[y,n]=o.useState(""),[x,f]=o.useState(!1),[u,N]=o.useState(null),[C,b]=o.useState(null),M=o.useRef(null),S=o.useRef(null);o.useRef(null);const D=[{category:"Campaign Management",icon:A,prompts:["Create a new search campaign for my e-commerce store","Optimize my existing campaigns for better performance","Pause underperforming campaigns"]},{category:"Keyword Research",icon:R,prompts:["Find high-intent keywords for my product","Analyze competitor keywords","Suggest negative keywords to add"]},{category:"Budget & Bidding",icon:T,prompts:["Analyze my budget pacing","Recommend optimal bid strategies","Set up budget alerts"]},{category:"Performance Analysis",icon:Z,prompts:["Show me campaign performance trends","Identify top performing keywords","Generate a performance report"]}];o.useEffect(()=>{var t;(t=M.current)==null||t.scrollIntoView({behavior:"smooth"})},[p]);const k=async t=>{if(!t.trim()||x)return;b(null);const c={id:`user-${Date.now()}`,type:"user",content:t.trim(),timestamp:new Date};i(a=>[...a,c]),n(""),f(!0);const r=`assistant-${Date.now()}`,h={id:r,type:"assistant",content:"",timestamp:new Date,isStreaming:!0};i(a=>[...a,h]);try{if(s==="expert"){const a=w.ai.streamChat(t,u);for await(const l of a)l.type==="content"?i(d=>d.map(g=>g.id===r?{...g,content:g.content+l.content}:g)):l.type==="conversation_id"?N(l.conversation_id):l.type==="complete"&&i(d=>d.map(g=>g.id===r?{...g,isStreaming:!1}:g))}else{const a=await w.ai.chat(t,u);i(l=>l.map(d=>d.id===r?{...d,content:a.response,isStreaming:!1,suggestions:a.suggestions,campaignBrief:a.campaign_brief}:d)),a.conversation_id&&N(a.conversation_id)}}catch(a){console.error("Chat error:",a),b(a.message||"Failed to send message"),i(l=>l.filter(d=>d.id!==r))}finally{f(!1)}},I=async t=>{await k(t)},L=async(t,c)=>{if(t==="create-campaign"&&c)try{const r=await w.ai.createCampaign(u),h={id:`system-${Date.now()}`,type:"assistant",content:`Campaign creation workflow initiated! Workflow ID: ${r.workflow_id}. You can track the progress in the Campaigns section.`,timestamp:new Date};i(a=>[...a,h])}catch(r){console.error("Campaign creation error:",r),b("Failed to create campaign")}else await k(t)},q=(t,c)=>{i(r=>r.map(h=>h.id===t?{...h,feedback:h.feedback===c?null:c}:h))},$=t=>{t.preventDefault(),k(y)};return e.jsxs("div",{className:"chat-view h-full flex flex-col",children:[e.jsx("div",{className:"border-b border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(V,{className:"text-blue-600"}),"AI Assistant"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Ask questions, get insights, and manage campaigns with natural language"})]}),u&&e.jsxs("div",{className:"text-sm text-gray-500",children:["Conversation ID: ",u.slice(0,8),"..."]})]})}),p.length===1&&s!=="simple"&&e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("h3",{className:"font-medium mb-4 flex items-center gap-2",children:[e.jsx(U,{className:"text-yellow-500",size:20}),"Quick Actions"]}),e.jsx("div",{className:"space-y-4",children:D.map(t=>e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(t.icon,{size:16}),t.category]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:t.prompts.map((c,r)=>e.jsx("button",{onClick:()=>I(c),className:"text-left p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors text-sm",children:c},r))})]},t.category))})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[C&&e.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[e.jsx(E,{className:"text-red-500 mt-0.5",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-700",children:C}),e.jsx("button",{onClick:()=>b(null),className:"text-sm text-red-600 underline mt-1",children:"Dismiss"})]})]}),p.map(t=>e.jsx(K,{message:t,onActionClick:L,onFeedback:q},t.id)),x&&((z=p[p.length-1])==null?void 0:z.type)!=="assistant"&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-4",children:[e.jsx(v,{className:"animate-spin",size:16}),e.jsx("span",{children:"AI is thinking..."})]}),e.jsx("div",{ref:M})]}),e.jsxs("div",{className:"border-t border-gray-200 p-4",children:[e.jsxs("form",{onSubmit:$,className:"flex gap-3",children:[e.jsx("input",{ref:S,type:"text",value:y,onChange:t=>n(t.target.value),placeholder:"Ask me anything about your Google Ads campaigns...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x}),e.jsxs("button",{type:"submit",disabled:!y.trim()||x,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[x?e.jsx(v,{className:"animate-spin",size:20}):e.jsx(O,{size:20}),"Send"]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Press Enter to send • Shift+Enter for new line"})]})]})};export{se as default};
