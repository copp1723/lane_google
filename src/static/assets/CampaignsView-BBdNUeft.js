import{c as b,u as A,r as c,j as e,S as L,L as z,Z as P,a as w,D as k,T as $,d as M,X as B}from"./index-BJzMLFnQ.js";import{A as R,I as O}from"./info-l6kzt_Y2.js";import{B as T}from"./bar-chart-3-L6eEeHJB.js";import{G as V}from"./globe-BwVR1K7i.js";import{U as I}from"./users-B8q2V8xp.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=b("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=b("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=b("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=b("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=b("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),G=({campaign:t,onEdit:m,onStatusChange:u,onViewDetails:r})=>{var a,p,f,y,j,o,h;const[d,s]=c.useState(!1),i=x=>{switch(x){case"ENABLED":return"bg-green-100 text-green-700";case"PAUSED":return"bg-yellow-100 text-yellow-700";case"REMOVED":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},g=x=>"text-yellow-600";return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t.advertising_channel_type})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${i(t.status)}`,children:t.status}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>s(!d),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(F,{size:16})}),d&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:[e.jsxs("button",{onClick:()=>{m(t),s(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(_,{size:16}),"Edit Campaign"]}),e.jsxs("button",{onClick:()=>{u(t.id,t.status==="ENABLED"?"PAUSED":"ENABLED"),s(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-2",children:[t.status==="ENABLED"?e.jsx(q,{size:16}):e.jsx(U,{size:16}),t.status==="ENABLED"?"Pause":"Resume"]}),e.jsxs("button",{onClick:()=>{r(t),s(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(T,{size:16}),"View Details"]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Impressions"}),e.jsx("p",{className:"text-lg font-semibold",children:(((a=t.metrics)==null?void 0:a.impressions)||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Clicks"}),e.jsx("p",{className:"text-lg font-semibold",children:(((p=t.metrics)==null?void 0:p.clicks)||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"CTR"}),e.jsx("p",{className:"text-lg font-semibold",children:(f=t.metrics)!=null&&f.clicks&&((y=t.metrics)!=null&&y.impressions)?`${(t.metrics.clicks/t.metrics.impressions*100).toFixed(2)}%`:"0%"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Conversions"}),e.jsx("p",{className:"text-lg font-semibold",children:(((j=t.metrics)==null?void 0:j.conversions)||0).toLocaleString()})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(k,{size:16,className:"text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["$",((((o=t.metrics)==null?void 0:o.cost_micros)||0)/1e6).toFixed(2)," / $",(t.budget_amount_micros/1e6).toFixed(0)]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($,{size:16,className:"text-gray-400"}),e.jsxs("span",{className:`text-sm font-medium ${g()}`,children:["ROAS: ",((h=t.metrics)==null?void 0:h.conversions)>0?`${(t.metrics.conversions*50/(t.metrics.cost_micros/1e6)).toFixed(1)}x`:"N/A"]})]})]}),e.jsxs("button",{onClick:()=>r(t),className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center gap-1",children:["View Details",e.jsx(M,{size:16})]})]})]})})},H=({isOpen:t,onClose:m,onSubmit:u})=>{const[r,d]=c.useState(1),[s,i]=c.useState({name:"",type:"SEARCH",budget:"",targetLocation:"",targetAudience:"",keywords:"",startDate:"",endDate:""});if(!t)return null;const g=a=>{a.preventDefault(),r<3?d(r+1):u(s)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Create New Campaign"}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(B,{size:20})})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[e.jsxs("div",{className:`flex items-center gap-2 ${r>=1?"text-blue-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 ${r>=1?"border-blue-600 bg-blue-600 text-white":"border-gray-300"}`,children:"1"}),e.jsx("span",{className:"text-sm font-medium",children:"Basic Info"})]}),e.jsx("div",{className:"flex-1 h-0.5 bg-gray-200",children:e.jsx("div",{className:`h-full bg-blue-600 transition-all ${r>=2?"w-full":"w-0"}`})}),e.jsxs("div",{className:`flex items-center gap-2 ${r>=2?"text-blue-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 ${r>=2?"border-blue-600 bg-blue-600 text-white":"border-gray-300"}`,children:"2"}),e.jsx("span",{className:"text-sm font-medium",children:"Targeting"})]}),e.jsx("div",{className:"flex-1 h-0.5 bg-gray-200",children:e.jsx("div",{className:`h-full bg-blue-600 transition-all ${r>=3?"w-full":"w-0"}`})}),e.jsxs("div",{className:`flex items-center gap-2 ${r>=3?"text-blue-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 ${r>=3?"border-blue-600 bg-blue-600 text-white":"border-gray-300"}`,children:"3"}),e.jsx("span",{className:"text-sm font-medium",children:"Review"})]})]})]}),e.jsxs("form",{onSubmit:g,className:"p-6 overflow-y-auto max-h-[60vh]",children:[r===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Name"}),e.jsx("input",{type:"text",value:s.name,onChange:a=>i({...s,name:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Summer Sale 2024",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Type"}),e.jsxs("select",{value:s.type,onChange:a=>i({...s,type:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"SEARCH",children:"Search"}),e.jsx("option",{value:"DISPLAY",children:"Display"}),e.jsx("option",{value:"VIDEO",children:"Video"}),e.jsx("option",{value:"SHOPPING",children:"Shopping"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Daily Budget"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-2.5 text-gray-400",size:20}),e.jsx("input",{type:"number",value:s.budget,onChange:a=>i({...s,budget:a.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",min:"1",step:"0.01",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",value:s.startDate,onChange:a=>i({...s,startDate:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date (Optional)"}),e.jsx("input",{type:"date",value:s.endDate,onChange:a=>i({...s,endDate:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Location"}),e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-3 top-2.5 text-gray-400",size:20}),e.jsx("input",{type:"text",value:s.targetLocation,onChange:a=>i({...s,targetLocation:a.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., United States, New York",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Audience"}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-3 top-2.5 text-gray-400",size:20}),e.jsx("input",{type:"text",value:s.targetAudience,onChange:a=>i({...s,targetAudience:a.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 18-35, interested in fitness",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keywords (for Search campaigns)"}),e.jsx("textarea",{value:s.keywords,onChange:a=>i({...s,keywords:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"4",placeholder:"Enter keywords separated by commas"})]})]}),r===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"font-medium mb-4",children:"Campaign Summary"}),e.jsxs("dl",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Name:"}),e.jsx("dd",{className:"text-sm font-medium",children:s.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Type:"}),e.jsx("dd",{className:"text-sm font-medium",children:s.type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Daily Budget:"}),e.jsxs("dd",{className:"text-sm font-medium",children:["$",s.budget]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Location:"}),e.jsx("dd",{className:"text-sm font-medium",children:s.targetLocation})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Audience:"}),e.jsx("dd",{className:"text-sm font-medium",children:s.targetAudience})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Duration:"}),e.jsxs("dd",{className:"text-sm font-medium",children:[s.startDate," - ",s.endDate||"Ongoing"]})]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(O,{className:"text-blue-600 mt-0.5",size:20}),e.jsx("div",{children:e.jsx("p",{className:"text-sm text-blue-800",children:"Your campaign will be created and enter review status. You'll receive a notification once it's approved and live."})})]})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-8",children:[e.jsx("button",{type:"button",onClick:r>1?()=>d(r-1):m,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:r>1?"Back":"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:r<3?"Next":"Create Campaign"})]})]})]})})},J=({viewMode:t})=>{const{user:m}=A(),[u,r]=c.useState([]),[d,s]=c.useState(!0),[i,g]=c.useState(""),[a,p]=c.useState("all"),[f,y]=c.useState([]),[j,o]=c.useState(!1),[h,x]=c.useState(null),N=async()=>{var l;try{s(!0);const n=await w.campaigns.list();r(((l=n.data)==null?void 0:l.campaigns)||[])}catch(n){console.error("Error fetching campaigns:",n),x("Failed to load campaigns")}finally{s(!1)}};c.useEffect(()=>{N()},[]);const C=u.filter(l=>{const n=l.name.toLowerCase().includes(i.toLowerCase()),v=a==="all"||l.status===a;return n&&v}),D=async(l,n)=>{try{await w.campaigns.updateStatus(l,n),await N()}catch(v){console.error("Error updating campaign status:",v),x("Failed to update campaign status")}},E=async l=>{try{await w.campaigns.create(l),o(!1),await N()}catch(n){console.error("Error creating campaign:",n),x("Failed to create campaign")}};return e.jsxs("div",{className:"campaigns-view",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Campaigns"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and monitor your Google Ads campaigns"})]}),e.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(S,{size:20}),"Create Campaign"]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(L,{className:"absolute left-3 top-3 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search campaigns...",value:i,onChange:l=>g(l.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:a,onChange:l=>p(l.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"ENABLED",children:"Active"}),e.jsx("option",{value:"PAUSED",children:"Paused"}),e.jsx("option",{value:"REMOVED",children:"Removed"})]})]})]}),h&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[e.jsx(R,{className:"text-red-500 mt-0.5",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-700",children:h}),e.jsx("button",{onClick:()=>x(null),className:"text-sm text-red-600 underline mt-1",children:"Dismiss"})]})]}),d?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(z,{className:"animate-spin text-gray-400",size:48})}):C.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(P,{className:"mx-auto mb-4 text-gray-300",size:48}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No campaigns found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:i||a!=="all"?"Try adjusting your filters":"Get started by creating your first campaign"}),!i&&a==="all"&&e.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[e.jsx(S,{size:20}),"Create Campaign"]})]}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:C.map(l=>e.jsx(G,{campaign:l,onEdit:n=>console.log("Edit:",n),onStatusChange:D,onViewDetails:n=>console.log("View details:",n)},l.id))}),e.jsx(H,{isOpen:j,onClose:()=>o(!1),onSubmit:E})]})};export{J as default};
